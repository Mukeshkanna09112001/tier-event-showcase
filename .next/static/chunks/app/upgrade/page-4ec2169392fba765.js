(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[829],{625:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>u});var t=s(5155),a=s(2115),l=s(8879),c=s(5695),i=s(4477);let d=(0,i.createServerReference)("0046553ff97d84ba694ca14eb3b3d374415022ac8f",i.callServer,void 0,i.findSourceMapURL,"getUserTier"),n=(0,i.createServerReference)("40fd2961c31ab6f2ccab9114a91837831333a9f455",i.callServer,void 0,i.findSourceMapURL,"upgradeTier");var o=s(3568);function u(){let{isLoaded:e,isSignedIn:r}=(0,l.Jd)(),s=(0,c.useRouter)(),[i,u]=(0,a.useState)(""),[m,x]=(0,a.useState)(""),[p,f]=(0,a.useState)(!1),[g,b]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{if(e&&r){f(!0);try{let e=await d();u(e),x(e)}catch(e){b({type:"error",message:"Failed to load current tier"}),o.Ay.error("Failed to load current tier")}finally{f(!1)}}})()},[e,r]);let h=async()=>{if(m&&m!==i){f(!0),b(null);try{let e=await n(m);e.success?(o.Ay.success("Successfully upgraded to ".concat(m," tier!")),b({type:"success",message:"Successfully upgraded to ".concat(m," tier!")}),u(m),s.replace("/events")):(o.Ay.error(e.message||"Upgrade failed"),b({type:"error",message:e.message||"Upgrade failed"}))}catch(e){o.Ay.error("An unexpected error occurred"),b({type:"error",message:"An unexpected error occurred"})}finally{f(!1)}}};return e?r?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:[(0,t.jsx)("div",{className:"toast-container"}),(0,t.jsxs)("div",{className:"max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden p-6",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Upgrade Your Tier"}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Current Tier"}),(0,t.jsx)("div",{className:"px-4 py-2 bg-blue-50 rounded-lg text-blue-700 font-medium capitalize",children:i||"Loading..."})]}),(0,t.jsxs)("div",{className:"mb-10",children:[(0,t.jsx)("label",{htmlFor:"tier-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select New Tier"}),(0,t.jsxs)("select",{id:"tier-select",value:m,onChange:e=>x(e.target.value),className:"w-full border border-gray-300 rounded-md px-4 py-2 focus:ring-blue-500 focus:border-blue-500",disabled:p||!i,children:[(0,t.jsx)("option",{value:"",children:"Select a tier"}),(0,t.jsx)("option",{value:"free",children:"Free"}),(0,t.jsx)("option",{value:"silver",children:"Silver"}),(0,t.jsx)("option",{value:"gold",children:"Gold"}),(0,t.jsx)("option",{value:"platinum",children:"Platinum"})]})]}),(0,t.jsx)("div",{className:"flex justify-center mt-10",children:(0,t.jsx)("button",{onClick:h,disabled:p||!m||i===m,className:"mt-10 w-[250px] py-3 px-6 rounded-lg shadow-md text-md font-semibold text-white ".concat(p?"bg-blue-400":"bg-blue-600 hover:bg-blue-700"," focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 flex items-center justify-center"),children:p?"Processing...":"Upgrade Now"})})]}),g&&(0,t.jsx)("p",{className:"text-sm mt-2 ".concat("success"===g.type?"text-green-600":"text-red-600"),children:g.message})]})]}):(0,t.jsx)("div",{className:"text-center py-8",children:"Please sign in to upgrade your tier"}):(0,t.jsx)("div",{className:"text-center py-8",children:"Loading..."})}},2048:(e,r,s)=>{Promise.resolve().then(s.bind(s,625))}},e=>{e.O(0,[521,84,441,964,358],()=>e(e.s=2048)),_N_E=e.O()}]);